<!DOCTYPE html>
<!--
freenom.com OF cloudflare
Github OF gitlab OF Github pages
-->
<html lang="en">
  <head>
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"
    ></script>

    <meta charset="UTF-8" />
    <title>OSRS - Huell</title>
    <link rel="stylesheet" type="text/css" href="style/style.css" />
  </head>
  <body>
    <div id="hero">
      <h1>osrs - huell</h1>
      <p>an OSRS progress site</p>
    </div>
    <nav>
      <a class="left" href="https://oldschool.runescape.com/" target="_blank"
        ><img src="src/osrs_icon.png" width="40px" height="40px"
      /></a>
      <a class="right" href="https://twitter.com/elempiar" target="_blank"
        ><img src="src/twitter_icon.png" width="40px" height="40px"
      /></a>
      <a
        class="right"
        href="https://crystalmathlabs.com/tracker/track.php?player=huell"
        target="_blank"
        ><img src="src/cml_icon.png" width="40px" height="40px"
      /></a>
    </nav>
    <main>
      <div class="part">
        <section class="title">
          <h1>Overall Progression</h1>
        </section>
        <div class="row">
          <div class="column" id="left">
            <h2>Total Level</h2>
            <div class="bar">
              <div>
                <span class="amount">1724</span>
                <span>/</span>
                <span class="total">2277</span>
              </div>
              <div class="progress" id="totalLevel"></div>
            </div>
          </div>
          <div class="column" id="right">
            <h2>Quest Points</h2>
            <div class="bar">
              <div>
                <span class="amount">269</span>
                <span>/</span>
                <span class="total">269</span>
              </div>
              <div class="progress" id="questPoints"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="part">
        <section class="title">
          <h1>Personal Goals</h1>
        </section>
        <h2>99 Farming</h2>
        <div class="bar">
          <div>
            <span class="amount">95</span>
            <span>/</span>
            <span class="total">99</span>
          </div>
          <div class="progress" id="goalOne"></div>
        </div>
        <h2>Base 80's</h2>
        <div class="bar">
          <div>
            <span class="amount">5</span>
            <span>/</span>
            <span class="total">23</span>
          </div>
          <div class="progress" id="goalTwo"></div>
        </div>
        <h2>All Hard Diaries</h2>
        <div class="bar">
          <div>
            <span class="amount">8</span>
            <span>/</span>
            <span class="total">12</span>
          </div>
          <div class="progress" id="goalThree"></div>
        </div>
      </div>
      <div class="part">
        <section class="title">
          <h1>Boss Kills v Pet Drop Rates</h1>
          <p>No Pets received yet</p>
        </section>
        <h2>Vorkath</h2>
        <div class="bar">
          <div>
            <span class="amount">58</span>
            <span>/</span>
            <span class="total">3000</span>
          </div>
          <div class="progress" id="vorkathKC"></div>
        </div>
        <h2>Giant Mole</h2>
        <div class="bar">
          <div>
            <span class="amount">178</span>
            <span>/</span>
            <span class="total">3000</span>
          </div>
          <div class="progress" id="giantMoleKC"></div>
        </div>
      </div>
    </main>
    <footer>
      <p>Stats last updated on April 3rd - 2019.</p>
      <p>ElempiarÂ© 1842 - 2019</p>
    </footer>
  </body>
  <script>
    const progressBars = $(".bar");
    const doAnimation = progressBar => {
      const amount = parseInt(
        $(progressBar)
          .find(".amount")
          .text(),
        10
      );
      const total = parseInt(
        $(progressBar)
          .find(".total")
          .text(),
        10
      );
      const progressRatio = amount / total;
      const maxColor = 255;
      const progress = $(progressBar).find(".progress");
      $(progress).css({
        width: `${progressRatio * 100}%`,
        backgroundColor: `rgb(${(1 - progressRatio) * maxColor},165, 0)`
      });
    };
    const checkProgressBars = () => {
      for (progressBar of progressBars) {
        const progressBarYPosition = progressBar.getBoundingClientRect().top;
        const offset = progressBarYPosition - window.innerHeight;
        if (offset < 0) {
          doAnimation(progressBar);
        }
      }
    };
    window.onscroll = checkProgressBars;
  </script>
</html>
